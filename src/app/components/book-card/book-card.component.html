<div class="book-card" [ngClass]="{'out-of-stock-active': book?.quantity === 0}" (click)="goToDetails()">
  <div class="image-wrapper">
    <img [src]="getImageUrl(book.bookImage)" (error)="onImageError($event)" alt="..." loading="lazy" />

    <div class="out-of-stock" *ngIf="book?.quantity === 0">OUT OF STOCK</div>
    
    <mat-icon class="cross-icon" *ngIf="book?.quantity === 0">close</mat-icon>
  </div>
  <div class="details">
    <!-- rest same -->
  </div>

  <div class="details">
    <h4>{{ book?.bookName || 'Untitled Book' }}</h4>
    <p class="author">by {{ book?.author || 'Unknown' }}</p>

    <div class="rating">
      <span class="rate-box">{{ book?.rating || 4.5 }} â˜…</span>
      <span class="count">({{ book?.reviewCount || 20 }})</span>
    </div>

    <div class="price">
      <span class="discounted">Rs. {{ book?.discountPrice }}</span>
      <span class="original">Rs. {{ book?.price }}</span>
    </div>
  </div>
</div>
